/*! jquery-github-repo - v0.1.1 - 2014-01-20
* https://github.com/bpaulin/jquery-github-repo
* Copyright (c) 2014 Bruno Paulin; Licensed MIT */
(function(){jQuery(function(){return $.githubRepo=function(a,b){var c;return c="",this.settings={},this.$element=$(a),this.setState=function(a){return c=a},this.getState=function(){return c},this.getSetting=function(a){return this.settings[a]},this.callSettingFunction=function(a,b){return null==b&&(b=[]),this.settings[a].apply(this,b)},this.init=function(){var a,c,d,e,f;return this.settings=$.extend({},this.defaults,b),e=this.$element.data("repository"),f=this.$element.html(),this.$element.empty(),this.$element.addClass("panel panel-primary"),d=$("<div>").addClass("panel-heading").append(e),a=$("<div>").addClass("panel-body").append(f),c=$("<div>").addClass("panel-footer").append("http://github.com/"+e),this.$element.append(d).append(a).append(c),$.ajax("https://api.github.com/repos/"+e,{success:function(a){return d.empty(),d.append($("<h1>").addClass("panel-title").append(a.name)),d.append($("<small>").append(a.description)),c.empty(),c.append($("<a>").attr("href",a.html_url).append(a.html_url)),$.ajax("https://api.github.com/repos/"+e+"/branches",{success:function(a){var b,d,f;d=$("<dl>").addClass("dl-horizontal");for(f in a)b=a[f],$.ajax("https://api.github.com/repos/"+e+"/branches/"+b.name,{success:function(a){var b,c,f;return c=$("<dt>").append($("<a>").attr("href","http://github.com/"+e+"/tree/"+a.name).append(a.name)),b=$("<dd>"),b.append($("<span>").append(a.commit.commit.author.date.substring(0,10))),b.append($("<img>").attr("src","https://travis-ci.org/"+e+".png?branch="+a.name)),f="https://github.com/"+e+"/commit/"+a.commit.sha,b.append($("<a>").attr("href",f).append(a.commit.commit.message.substring(0,25))),d.append(c),d.append(b)}});return c.append(d)}})}}),this.setState("ready")},this.init(),this},$.githubRepo.prototype.defaults={user:"bpaulin"},$.fn.githubRepo=function(a){return this.each(function(){var b;return void 0===$(this).data("githubRepo")?(b=new $.githubRepo(this,a),$(this).data("githubRepo",b)):void 0})}})}).call(this),function(){jQuery(function(){return $.githubRepo=function(a,b){var c;return c="",this.settings={},this.$element=$(a),this.setState=function(a){return c=a},this.getState=function(){return c},this.getSetting=function(a){return this.settings[a]},this.callSettingFunction=function(a,b){return null==b&&(b=[]),this.settings[a].apply(this,b)},this.init=function(){var a,c,d,e,f;return this.settings=$.extend({},this.defaults,b),e=this.$element.data("repository"),f=this.$element.html(),this.$element.empty(),this.$element.addClass("panel panel-primary"),d=$("<div>").addClass("panel-heading").append(e),a=$("<div>").addClass("panel-body").append(f),c=$("<div>").addClass("panel-footer").append("http://github.com/"+e),this.$element.append(d).append(a).append(c),$.ajax("https://api.github.com/repos/"+e,{success:function(a){return d.empty(),d.append($("<h1>").addClass("panel-title").append(a.name)),d.append($("<small>").append(a.description)),c.empty(),c.append($("<a>").attr("href",a.html_url).append(a.html_url)),$.ajax("https://api.github.com/repos/"+e+"/branches",{success:function(a){var b,d,f;d=$("<dl>").addClass("dl-horizontal");for(f in a)b=a[f],$.ajax("https://api.github.com/repos/"+e+"/branches/"+b.name,{success:function(a){var b,c,f;return c=$("<dt>").append($("<a>").attr("href","http://github.com/"+e+"/tree/"+a.name).append(a.name)),b=$("<dd>"),b.append($("<span>").append(a.commit.commit.author.date.substring(0,10))),b.append($("<img>").attr("src","https://travis-ci.org/"+e+".png?branch="+a.name)),f="https://github.com/"+e+"/commit/"+a.commit.sha,b.append($("<a>").attr("href",f).append(a.commit.commit.message.substring(0,25))),d.append(c),d.append(b)}});return c.append(d)}})}}),this.setState("ready")},this.init(),this},$.githubRepo.prototype.defaults={user:"bpaulin"},$.fn.githubRepo=function(a){return this.each(function(){var b;return void 0===$(this).data("githubRepo")?(b=new $.githubRepo(this,a),$(this).data("githubRepo",b)):void 0})}})}.call(this);